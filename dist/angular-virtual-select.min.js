!function(t){var e={};function n(c){if(e[c])return e[c].exports;var l=e[c]={i:c,l:!1,exports:{}};return t[c].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=t,n.c=e,n.d=function(t,e,c){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:c})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var c,l;n(1);window,c=window.angular,l=window._,c.module("angular-virtual-select",["vs-repeat"]).directive("virtualSelect",["$filter","$document","$timeout",function(t,e,n){return{restrict:"AE",replace:!0,scope:{ngModel:"=",choicesRepeat:"=",filterBy:"=",placeholder:"=",displayProperty:"=",coreProperty:"=",singleselect:"=",multiselect:"=",limit:"=",onInputChange:"&",dynamicChoices:"=",allowCustom:"=",selectName:"=",localizeDisplayProperty:"=",blockModelUpdate:"="},template:'<div class="virtual-select ui-select-container ui-select-multiple ui-select-bootstrap">\n\t\t\t\t\t\t<div class="ui-select-match">\n\t\t\t\t\t\t\t<span ng-repeat="item in selected track by $index">\n\t\t\t\t\t\t\t\t<span class="ui-select-match-item btn btn-primary btn-xs btn-sm">\n\t\t\t\t\t\t\t\t\t<span class="close ui-select-match-close" ng-click="removeItem(item)">&nbsp;&times;</span>\n\t\t\t\t\t\t\t\t\t<span>{{display(item)}}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input type="text" class="ui-select-search" ng-model="searchText" ng-click="activate()" placeholder="{{ selected.length ? \'\' : placeholder}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul ng-if="opened && list.length" class="virtual-select-list-container ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu">\n\t\t\t\t\t\t\t<li class="virtual-scroll-container ui-select-choices-group" vs-repeat>\n\t\t\t\t\t\t\t\t<div class="ui-select-choices-row btn-sm" ng-repeat="choice in list | virtualSelectfilterSelected:choice:selected track by $index" ng-click="itemClick(choice)">\n\t\t\t\t\t\t\t\t\t<a class="virtual-scroll-list-item ui-select-choices-row-inner"> \x3c!-- ui-select layout --\x3e\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{{display(choice)}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>',link:function(i,o,r){var s,a=null!=r.singleselect,u=null!=r.multiselect,d=null!=r.dynamicChoices,p=null!=r.allowCustom,f=r.onInputChange,h=function(t){var e=t;return t&&"object"==typeof t&&(e=JSON.parse(c.toJson(e))),e};a||u||(u=!0);var v=function(){s=c.copy(i.choicesRepeat),s=h(s),i.list=c.copy(s)};v();var y=function(){if(i.filterBy){var e,n=l.some(i.filterBy,function(t){return!l.isUndefined(t)});n&&(e=c.copy(s)),l.each(i.filterBy,function(n,c){n&&(e=t(c)(e,n))}),n&&(i.list=e,s=i.list)}};i.$watchCollection("choicesRepeat",function(){v(),y(),w(i.searchText),i.blockModelUpdate||m()},!0);var m=function(){if(void 0!==i.selected){var t=[],e=!1;l.each(i.selected,function(n){(e=i.coreProperty?l.find(i.list,function(t){return l.isEqual(h(t[i.coreProperty]),h(n[i.coreProperty]))}):l.find(i.list,function(t){return l.isEqual(h(t),h(n))}))&&t.push(e)}),i.selected=t,g()}};i.$watchCollection("filterBy",function(t,e){t&&(l.isEqual(t,e)||y())},!0),i.display=function(e){if(null!=e){var n=e;return i.displayProperty&&(n=e[i.displayProperty]),null!=r.localizeDisplayProperty&&(n=t("i18n")(n,i.localizeDisplayProperty)),n}return null};var g=function(){var t=null;i.selected&&i.selected.length&&(t=i.coreProperty?i.selected.map(t=>t[i.coreProperty]):i.selected),i.ngModel=t};i.activate=function(){a&&i.selected&&i.selected.length||u&&i.limit&&i.selected&&i.limit<=i.selected.length||(i.opened=!0,n(function(){i.$digest()},0))},i.$on("virtualScrollActivate",function(t,e){e==i.selectName&&null!=e?i.activate():e!=i.selectName&&x()}),i.$watch("opened",function(t,e){i.selectName&&i.$emit("vsSpecificOpenStateChange",{name:i.selectName,val:t})}),i.itemClick=function(t){l.find(i.selected,function(e){return l.isEqual(e,t)})||(a&&i.selected&&!i.selected.length?(i.selected.push(t),g()):u&&(!i.limit||i.limit&&i.selected&&+i.limit>i.selected.length)&&(i.selected.push(t),g())),u||(i.opened=!1),(!p||i.selected&&i.selected.length)&&(i.searchText="")},i.removeItem=function(t){var e=i.selected&&i.selected.indexOf(t);e>-1&&(i.selected.splice(e,1),g()),f&&i.onInputChange({text:""})};var x=function(){i.opened=!1,(!p||i.selected&&i.selected.length)&&(i.searchText=""),n(function(){i.$digest()},0)},b=function(t){o[0].contains(t.target)||x()};i.$watch("opened",function(t,e){t?document.addEventListener("click",b,!0):l.isUndefined(t)||document.removeEventListener("click",b,!0)}),i.$watch("ngModel",function(t,e){t&&("object"!=typeof t||t.length)?d||p?"string"==typeof t?i.searchText=t:i.selected=t:i.selected=function(t){var e=[];if("object"!=typeof t){var n=l.find(s,function(e){var n=i.coreProperty?e[i.coreProperty]:e;return"object"==typeof n&&(n=h(n)),l.isEqual(n,t)});null!=n&&e.push(n)}else"object"==typeof t&&l.each(t,function(t){var n=l.find(s,function(e){var n=i.coreProperty?e[i.coreProperty]:e;return"object"==typeof n&&(n=h(n)),l.isEqual(n,t)});null!=n&&e.push(n)});return e}(h(t)):(i.selected=[],i.searchText="")}),i.$watch("searchText",function(t,e){w(t,e)});var w=function(t,e){f?i.onInputChange({text:t}):t?t!=e&&(i.list=l.filter(s,function(e){var n=i.displayProperty?e[i.displayProperty]:e;return n&&-1!=n.toLowerCase().indexOf(t.toLowerCase())})):i.list=s,t&&p&&(i.selected&&i.selected.length||(i.ngModel=t));let c=document.getElementsByClassName("virtual-scroll-container")&&document.getElementsByClassName("virtual-scroll-container")[0];c&&c.scrollTo(0,0),n(function(){i.$digest()},0)};i.$on("$destroy",function(){e.off("click",b)})}}}]).filter("virtualSelectfilterSelected",function(){return function(t,e,n){if(n&&n.length){var c=[];return l.each(t,function(t){var e=n.indexOf(t),i=l.find(n,function(e){return l.isEqual(e,t)});-1!=e||i||c.push(t)}),c}return t}})},function(t,e){}]);